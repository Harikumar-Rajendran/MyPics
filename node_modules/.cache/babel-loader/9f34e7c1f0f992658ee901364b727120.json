{"ast":null,"code":"var _jsxFileName = \"/Users/273488/Workspace/My Repo/Code Reference/React App/src/templates/rain/MatrixRain.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport \"./MatrixRain.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MatrixRain(props) {\n  _s();\n\n  let background = props.url;\n  useEffect(() => {\n    const main = document.querySelector(\"main\");\n\n    for (let i = 0; i < 40; ++i) {\n      new Rain({\n        target: main,\n        row: 50\n      });\n    }\n  });\n\n  function r(from, to) {\n    return ~~(Math.random() * (to - from + 1) + from);\n  }\n\n  function pick() {\n    return arguments[r(0, arguments.length - 1)];\n  }\n\n  function getChar() {\n    return String.fromCharCode(pick(r(0x3041, 0x30ff), r(0x2000, 0x206f), r(0x0020, 0x003f)));\n  }\n\n  function loop(fn, delay) {\n    let stamp = Date.now();\n\n    function _loop() {\n      if (Date.now() - stamp >= delay) {\n        fn();\n        stamp = Date.now();\n      }\n\n      requestAnimationFrame(_loop);\n    }\n\n    requestAnimationFrame(_loop);\n  }\n\n  class Char {\n    constructor() {\n      this.element = document.createElement(\"span\");\n      this.mutate();\n    }\n\n    mutate() {\n      this.element.textContent = getChar();\n    }\n\n  }\n\n  class Trail {\n    constructor() {\n      let list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      let options = arguments.length > 1 ? arguments[1] : undefined;\n      this.list = list;\n      this.options = Object.assign({\n        size: 10,\n        offset: 0\n      }, options);\n      this.body = [];\n      this.move();\n    }\n\n    traverse(fn) {\n      this.body.forEach((n, i) => {\n        let last = i == this.body.length - 1;\n        if (n) fn(n, i, last);\n      });\n    }\n\n    move() {\n      this.body = [];\n      let {\n        offset,\n        size\n      } = this.options;\n\n      for (let i = 0; i < size; ++i) {\n        let item = this.list[offset + i - size + 1];\n        this.body.push(item);\n      }\n\n      this.options.offset = (offset + 1) % (this.list.length + size - 1);\n    }\n\n  }\n\n  class Rain {\n    constructor(_ref) {\n      let {\n        target,\n        row\n      } = _ref;\n      this.element = document.createElement(\"p\");\n      this.build(row);\n\n      if (target) {\n        target.appendChild(this.element);\n      }\n\n      this.drop();\n    }\n\n    build() {\n      let row = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 20;\n      let root = document.createDocumentFragment();\n      let chars = [];\n\n      for (let i = 0; i < row; ++i) {\n        let c = new Char();\n        root.appendChild(c.element);\n        chars.push(c);\n\n        if (Math.random() < 0.5) {\n          loop(() => c.mutate(), r(1e3, 5e3));\n        }\n      }\n\n      this.trail = new Trail(chars, {\n        size: r(10, 30),\n        offset: r(0, 100)\n      });\n      this.element.appendChild(root);\n    }\n\n    drop() {\n      let trail = this.trail;\n      let len = trail.body.length;\n      let delay = r(10, 100);\n      loop(() => {\n        trail.move();\n        trail.traverse((c, i, last) => {\n          c.element.style = `\n              color: hsl(136, 100%, ${85 / len * (i + 1)}%)\n            `;\n\n          if (last) {\n            c.mutate();\n            c.element.style = `\n                color: hsl(136, 100%, 85%);\n                text-shadow:\n                  0 0 .5em #fff,\n                  0 0 .5em currentColor;\n              `;\n          }\n        });\n      }, delay);\n    }\n\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"matrix-background\",\n    style: {\n      backgroundImage: `url(${background})`\n    },\n    children: /*#__PURE__*/_jsxDEV(\"main\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MatrixRain, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = MatrixRain;\nexport default MatrixRain;\n\nvar _c;\n\n$RefreshReg$(_c, \"MatrixRain\");","map":{"version":3,"sources":["/Users/273488/Workspace/My Repo/Code Reference/React App/src/templates/rain/MatrixRain.js"],"names":["React","useState","useEffect","MatrixRain","props","background","url","main","document","querySelector","i","Rain","target","row","r","from","to","Math","random","pick","arguments","length","getChar","String","fromCharCode","loop","fn","delay","stamp","Date","now","_loop","requestAnimationFrame","Char","constructor","element","createElement","mutate","textContent","Trail","list","options","Object","assign","size","offset","body","move","traverse","forEach","n","last","item","push","build","appendChild","drop","root","createDocumentFragment","chars","c","trail","len","style","backgroundImage"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,kBAAP;;;AAEA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AAAA;;AACzB,MAAIC,UAAU,GAAGD,KAAK,CAACE,GAAvB;AACAJ,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMK,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAb;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwB,EAAEA,CAA1B,EAA6B;AAC3B,UAAIC,IAAJ,CAAS;AAAEC,QAAAA,MAAM,EAAEL,IAAV;AAAgBM,QAAAA,GAAG,EAAE;AAArB,OAAT;AACD;AACF,GALQ,CAAT;;AAMA,WAASC,CAAT,CAAWC,IAAX,EAAiBC,EAAjB,EAAqB;AACnB,WAAO,CAAC,EAAEC,IAAI,CAACC,MAAL,MAAiBF,EAAE,GAAGD,IAAL,GAAY,CAA7B,IAAkCA,IAApC,CAAR;AACD;;AACD,WAASI,IAAT,GAAgB;AACd,WAAOC,SAAS,CAACN,CAAC,CAAC,CAAD,EAAIM,SAAS,CAACC,MAAV,GAAmB,CAAvB,CAAF,CAAhB;AACD;;AACD,WAASC,OAAT,GAAmB;AACjB,WAAOC,MAAM,CAACC,YAAP,CACLL,IAAI,CAACL,CAAC,CAAC,MAAD,EAAS,MAAT,CAAF,EAAoBA,CAAC,CAAC,MAAD,EAAS,MAAT,CAArB,EAAuCA,CAAC,CAAC,MAAD,EAAS,MAAT,CAAxC,CADC,CAAP;AAGD;;AACD,WAASW,IAAT,CAAcC,EAAd,EAAkBC,KAAlB,EAAyB;AACvB,QAAIC,KAAK,GAAGC,IAAI,CAACC,GAAL,EAAZ;;AACA,aAASC,KAAT,GAAiB;AACf,UAAIF,IAAI,CAACC,GAAL,KAAaF,KAAb,IAAsBD,KAA1B,EAAiC;AAC/BD,QAAAA,EAAE;AACFE,QAAAA,KAAK,GAAGC,IAAI,CAACC,GAAL,EAAR;AACD;;AACDE,MAAAA,qBAAqB,CAACD,KAAD,CAArB;AACD;;AACDC,IAAAA,qBAAqB,CAACD,KAAD,CAArB;AACD;;AACD,QAAME,IAAN,CAAW;AACTC,IAAAA,WAAW,GAAG;AACZ,WAAKC,OAAL,GAAe3B,QAAQ,CAAC4B,aAAT,CAAuB,MAAvB,CAAf;AACA,WAAKC,MAAL;AACD;;AACDA,IAAAA,MAAM,GAAG;AACP,WAAKF,OAAL,CAAaG,WAAb,GAA2BhB,OAAO,EAAlC;AACD;;AAPQ;;AASX,QAAMiB,KAAN,CAAY;AACVL,IAAAA,WAAW,GAAqB;AAAA,UAApBM,IAAoB,uEAAb,EAAa;AAAA,UAATC,OAAS;AAC9B,WAAKD,IAAL,GAAYA,IAAZ;AACA,WAAKC,OAAL,GAAeC,MAAM,CAACC,MAAP,CAAc;AAAEC,QAAAA,IAAI,EAAE,EAAR;AAAYC,QAAAA,MAAM,EAAE;AAApB,OAAd,EAAuCJ,OAAvC,CAAf;AACA,WAAKK,IAAL,GAAY,EAAZ;AACA,WAAKC,IAAL;AACD;;AACDC,IAAAA,QAAQ,CAACtB,EAAD,EAAK;AACX,WAAKoB,IAAL,CAAUG,OAAV,CAAkB,CAACC,CAAD,EAAIxC,CAAJ,KAAU;AAC1B,YAAIyC,IAAI,GAAGzC,CAAC,IAAI,KAAKoC,IAAL,CAAUzB,MAAV,GAAmB,CAAnC;AACA,YAAI6B,CAAJ,EAAOxB,EAAE,CAACwB,CAAD,EAAIxC,CAAJ,EAAOyC,IAAP,CAAF;AACR,OAHD;AAID;;AACDJ,IAAAA,IAAI,GAAG;AACL,WAAKD,IAAL,GAAY,EAAZ;AACA,UAAI;AAAED,QAAAA,MAAF;AAAUD,QAAAA;AAAV,UAAmB,KAAKH,OAA5B;;AACA,WAAK,IAAI/B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkC,IAApB,EAA0B,EAAElC,CAA5B,EAA+B;AAC7B,YAAI0C,IAAI,GAAG,KAAKZ,IAAL,CAAUK,MAAM,GAAGnC,CAAT,GAAakC,IAAb,GAAoB,CAA9B,CAAX;AACA,aAAKE,IAAL,CAAUO,IAAV,CAAeD,IAAf;AACD;;AACD,WAAKX,OAAL,CAAaI,MAAb,GAAsB,CAACA,MAAM,GAAG,CAAV,KAAgB,KAAKL,IAAL,CAAUnB,MAAV,GAAmBuB,IAAnB,GAA0B,CAA1C,CAAtB;AACD;;AArBS;;AAuBZ,QAAMjC,IAAN,CAAW;AACTuB,IAAAA,WAAW,OAAkB;AAAA,UAAjB;AAAEtB,QAAAA,MAAF;AAAUC,QAAAA;AAAV,OAAiB;AAC3B,WAAKsB,OAAL,GAAe3B,QAAQ,CAAC4B,aAAT,CAAuB,GAAvB,CAAf;AACA,WAAKkB,KAAL,CAAWzC,GAAX;;AACA,UAAID,MAAJ,EAAY;AACVA,QAAAA,MAAM,CAAC2C,WAAP,CAAmB,KAAKpB,OAAxB;AACD;;AACD,WAAKqB,IAAL;AACD;;AACDF,IAAAA,KAAK,GAAW;AAAA,UAAVzC,GAAU,uEAAJ,EAAI;AACd,UAAI4C,IAAI,GAAGjD,QAAQ,CAACkD,sBAAT,EAAX;AACA,UAAIC,KAAK,GAAG,EAAZ;;AACA,WAAK,IAAIjD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGG,GAApB,EAAyB,EAAEH,CAA3B,EAA8B;AAC5B,YAAIkD,CAAC,GAAG,IAAI3B,IAAJ,EAAR;AACAwB,QAAAA,IAAI,CAACF,WAAL,CAAiBK,CAAC,CAACzB,OAAnB;AACAwB,QAAAA,KAAK,CAACN,IAAN,CAAWO,CAAX;;AACA,YAAI3C,IAAI,CAACC,MAAL,KAAgB,GAApB,EAAyB;AACvBO,UAAAA,IAAI,CAAC,MAAMmC,CAAC,CAACvB,MAAF,EAAP,EAAmBvB,CAAC,CAAC,GAAD,EAAM,GAAN,CAApB,CAAJ;AACD;AACF;;AACD,WAAK+C,KAAL,GAAa,IAAItB,KAAJ,CAAUoB,KAAV,EAAiB;AAC5Bf,QAAAA,IAAI,EAAE9B,CAAC,CAAC,EAAD,EAAK,EAAL,CADqB;AAE5B+B,QAAAA,MAAM,EAAE/B,CAAC,CAAC,CAAD,EAAI,GAAJ;AAFmB,OAAjB,CAAb;AAIA,WAAKqB,OAAL,CAAaoB,WAAb,CAAyBE,IAAzB;AACD;;AACDD,IAAAA,IAAI,GAAG;AACL,UAAIK,KAAK,GAAG,KAAKA,KAAjB;AACA,UAAIC,GAAG,GAAGD,KAAK,CAACf,IAAN,CAAWzB,MAArB;AACA,UAAIM,KAAK,GAAGb,CAAC,CAAC,EAAD,EAAK,GAAL,CAAb;AACAW,MAAAA,IAAI,CAAC,MAAM;AACToC,QAAAA,KAAK,CAACd,IAAN;AACAc,QAAAA,KAAK,CAACb,QAAN,CAAe,CAACY,CAAD,EAAIlD,CAAJ,EAAOyC,IAAP,KAAgB;AAC7BS,UAAAA,CAAC,CAACzB,OAAF,CAAU4B,KAAV,GAAmB;AAC7B,sCAAuC,KAAKD,GAAN,IAAcpD,CAAC,GAAG,CAAlB,CAAqB;AAC3D,aAFU;;AAGA,cAAIyC,IAAJ,EAAU;AACRS,YAAAA,CAAC,CAACvB,MAAF;AACAuB,YAAAA,CAAC,CAACzB,OAAF,CAAU4B,KAAV,GAAmB;AAC/B;AACA;AACA;AACA;AACA,eALY;AAMD;AACF,SAbD;AAcD,OAhBG,EAgBDpC,KAhBC,CAAJ;AAiBD;;AA/CQ;;AAkDX,sBACE;AACE,IAAA,KAAK,EAAC,mBADR;AAEE,IAAA,KAAK,EAAE;AAAEqC,MAAAA,eAAe,EAAG,OAAM3D,UAAW;AAArC,KAFT;AAAA,2BAIE;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA,UADF;AAQD;;GAxHQF,U;;KAAAA,U;AA0HT,eAAeA,UAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./MatrixRain.css\";\n\nfunction MatrixRain(props) {\n  let background = props.url;\n  useEffect(() => {\n    const main = document.querySelector(\"main\");\n    for (let i = 0; i < 40; ++i) {\n      new Rain({ target: main, row: 50 });\n    }\n  });\n  function r(from, to) {\n    return ~~(Math.random() * (to - from + 1) + from);\n  }\n  function pick() {\n    return arguments[r(0, arguments.length - 1)];\n  }\n  function getChar() {\n    return String.fromCharCode(\n      pick(r(0x3041, 0x30ff), r(0x2000, 0x206f), r(0x0020, 0x003f))\n    );\n  }\n  function loop(fn, delay) {\n    let stamp = Date.now();\n    function _loop() {\n      if (Date.now() - stamp >= delay) {\n        fn();\n        stamp = Date.now();\n      }\n      requestAnimationFrame(_loop);\n    }\n    requestAnimationFrame(_loop);\n  }\n  class Char {\n    constructor() {\n      this.element = document.createElement(\"span\");\n      this.mutate();\n    }\n    mutate() {\n      this.element.textContent = getChar();\n    }\n  }\n  class Trail {\n    constructor(list = [], options) {\n      this.list = list;\n      this.options = Object.assign({ size: 10, offset: 0 }, options);\n      this.body = [];\n      this.move();\n    }\n    traverse(fn) {\n      this.body.forEach((n, i) => {\n        let last = i == this.body.length - 1;\n        if (n) fn(n, i, last);\n      });\n    }\n    move() {\n      this.body = [];\n      let { offset, size } = this.options;\n      for (let i = 0; i < size; ++i) {\n        let item = this.list[offset + i - size + 1];\n        this.body.push(item);\n      }\n      this.options.offset = (offset + 1) % (this.list.length + size - 1);\n    }\n  }\n  class Rain {\n    constructor({ target, row }) {\n      this.element = document.createElement(\"p\");\n      this.build(row);\n      if (target) {\n        target.appendChild(this.element);\n      }\n      this.drop();\n    }\n    build(row = 20) {\n      let root = document.createDocumentFragment();\n      let chars = [];\n      for (let i = 0; i < row; ++i) {\n        let c = new Char();\n        root.appendChild(c.element);\n        chars.push(c);\n        if (Math.random() < 0.5) {\n          loop(() => c.mutate(), r(1e3, 5e3));\n        }\n      }\n      this.trail = new Trail(chars, {\n        size: r(10, 30),\n        offset: r(0, 100),\n      });\n      this.element.appendChild(root);\n    }\n    drop() {\n      let trail = this.trail;\n      let len = trail.body.length;\n      let delay = r(10, 100);\n      loop(() => {\n        trail.move();\n        trail.traverse((c, i, last) => {\n          c.element.style = `\n              color: hsl(136, 100%, ${(85 / len) * (i + 1)}%)\n            `;\n          if (last) {\n            c.mutate();\n            c.element.style = `\n                color: hsl(136, 100%, 85%);\n                text-shadow:\n                  0 0 .5em #fff,\n                  0 0 .5em currentColor;\n              `;\n          }\n        });\n      }, delay);\n    }\n  }\n\n  return (\n    <div\n      class=\"matrix-background\"\n      style={{ backgroundImage: `url(${background})` }}\n    >\n      <main></main>\n    </div>\n  );\n}\n\nexport default MatrixRain;\n"]},"metadata":{},"sourceType":"module"}