{"ast":null,"code":"var _jsxFileName = \"/Users/273488/Workspace/My Repo/Code Reference/Memories/memories/src/contentful/FetchContent.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { createClient } from \"contentful\";\nimport Clouds from \"../templates/clouds/Clouds\";\nimport DriftingClouds from \"../templates/clouds/DriftingClouds\";\nimport HeavyRain from \"../templates/rain/HeavyRain\";\nimport SplashRain from \"../templates/rain/SplashRain\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SPACE_ID = \"jbuh6ffk2dc1\";\nconst ACCESS_TOKEN = \"vIgkWsaGQS-aMGClV9awdFmf4JM-3NEL9yqennzrHKA\";\nconst client = createClient({\n  space: SPACE_ID,\n  accessToken: ACCESS_TOKEN\n});\nexport default function FetchContent() {\n  _s();\n  const [entries, setEntries] = useState([]);\n  const [urls, setURLs] = useState([]);\n  const [url, setURL] = useState(\"\");\n  const [pointer, setPointer] = useState(0);\n  let index = 0;\n  useEffect(() => {\n    client.getEntries().then(response => setEntries(response.items)).catch(console.error);\n  }, []);\n  useEffect(() => {\n    console.log(entries);\n    getURL();\n  }, [entries]);\n  useEffect(() => {\n    console.log(\"Pointer: \", pointer);\n    loadImage();\n  }, [pointer]);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      increment();\n    }, 5000);\n    return () => clearInterval(interval);\n  }, []);\n  function increment() {\n    index++;\n    console.log(index);\n    if (index >= (urls === null || urls === void 0 ? void 0 : urls.length)) {\n      index = 0;\n    }\n    setPointer(index);\n  }\n  function loadImage() {\n    // console.log('Pointer: ',pointer)\n    setURL(urls[pointer]);\n  }\n  function getURL() {\n    var _entries$, _entries$$fields;\n    let img = (_entries$ = entries[0]) === null || _entries$ === void 0 ? void 0 : (_entries$$fields = _entries$.fields) === null || _entries$$fields === void 0 ? void 0 : _entries$$fields.defaultImages;\n    if (img) {\n      for (let key in img) {\n        urls.push(img[key].fields.file.url);\n        // setURLs(...urls, img[key].fields.file.url);\n        console.log(img[key].fields.file.url);\n      }\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(HeavyRain, {\n      url: `https:${url}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n}\n_s(FetchContent, \"7yA1nx3rF1jDfV4qNgZuwCdFoqI=\");\n_c = FetchContent;\nvar _c;\n$RefreshReg$(_c, \"FetchContent\");","map":{"version":3,"names":["useState","useEffect","createClient","Clouds","DriftingClouds","HeavyRain","SplashRain","jsxDEV","_jsxDEV","SPACE_ID","ACCESS_TOKEN","client","space","accessToken","FetchContent","_s","entries","setEntries","urls","setURLs","url","setURL","pointer","setPointer","index","getEntries","then","response","items","catch","console","error","log","getURL","loadImage","interval","setInterval","increment","clearInterval","length","_entries$","_entries$$fields","img","fields","defaultImages","key","push","file","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/273488/Workspace/My Repo/Code Reference/Memories/memories/src/contentful/FetchContent.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { createClient } from \"contentful\";\n\nimport Clouds from \"../templates/clouds/Clouds\";\nimport DriftingClouds from \"../templates/clouds/DriftingClouds\";\nimport HeavyRain from \"../templates/rain/HeavyRain\";\nimport SplashRain from \"../templates/rain/SplashRain\";\n\nconst SPACE_ID = \"jbuh6ffk2dc1\";\n\nconst ACCESS_TOKEN = \"vIgkWsaGQS-aMGClV9awdFmf4JM-3NEL9yqennzrHKA\";\n\nconst client = createClient({\n  space: SPACE_ID,\n  accessToken: ACCESS_TOKEN,\n});\n\nexport default function FetchContent() {\n  const [entries, setEntries] = useState([]);\n  const [urls, setURLs] = useState([]);\n  const [url, setURL] = useState(\"\");\n  const [pointer, setPointer] = useState(0);\n  let index=0;\n\n  useEffect(() => {\n    client\n      .getEntries()\n      .then((response) => setEntries(response.items))\n      .catch(console.error);\n  }, []);\n\n  useEffect(() => {\n    console.log(entries);\n    getURL();\n  }, [entries]);\n\n\n  useEffect(() => {\n    console.log(\"Pointer: \",pointer);\n    loadImage();\n  }, [pointer]);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      \n      increment();\n    }, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  function increment(){\n  index ++;\n    console.log(index);\n      if (index >= urls?.length) {\n        index=0;\n      }\n      setPointer(index);\n  }\n\n  function loadImage() {\n    // console.log('Pointer: ',pointer)\n    setURL(urls[pointer]);\n    \n  }\n  \n  function getURL() {\n    let img = entries[0]?.fields?.defaultImages;\n\n    if (img) {\n      for (let key in img) {\n        urls.push(img[key].fields.file.url);\n        // setURLs(...urls, img[key].fields.file.url);\n        console.log(img[key].fields.file.url);\n      }\n    }\n  }\n\n  return (\n    <div>\n      <HeavyRain url={`https:${url}`} />\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}