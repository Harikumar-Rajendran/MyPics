{"ast":null,"code":"var _jsxFileName = \"/Users/273488/Workspace/My Repo/Code Reference/React App/src/contentful/FetchContent.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { createClient } from \"contentful\";\nimport Clouds from \"../templates/clouds/Clouds\";\nimport DriftingClouds from \"../templates/clouds/DriftingClouds\";\nimport HeavyRain from \"../templates/rain/HeavyRain\";\nimport SideRain from \"../templates/rain/SideRain\";\nimport SplashRain from \"../templates/rain/SplashRain\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SPACE_ID = \"jbuh6ffk2dc1\";\nconst ACCESS_TOKEN = \"vIgkWsaGQS-aMGClV9awdFmf4JM-3NEL9yqennzrHKA\";\nconst client = createClient({\n  space: SPACE_ID,\n  accessToken: ACCESS_TOKEN\n});\nexport default function FetchContent() {\n  _s();\n\n  const [entries, setEntries] = useState([]);\n  const [urls, setURLs] = useState([]);\n  const [url, setURL] = useState(\"\");\n  const [index, setIndex] = useState(0);\n  let time = new Date().toLocaleString();\n  useEffect(() => {\n    client.getEntries().then(response => setEntries(response.items)).catch(console.error);\n    setInterval(loadImage, 10000);\n  }, []);\n  useEffect(() => {\n    console.log(entries);\n    getURL();\n  }, [entries]);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      loadImage();\n    }, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  function getURL() {\n    var _entries$, _entries$$fields;\n\n    let img = (_entries$ = entries[0]) === null || _entries$ === void 0 ? void 0 : (_entries$$fields = _entries$.fields) === null || _entries$$fields === void 0 ? void 0 : _entries$$fields.defaultImages;\n\n    if (img) {\n      for (let key in img) {\n        urls.push(img[key].fields.file.url); // setURLs(...urls, img[key].fields.file.url);\n\n        console.log(img[key].fields.file.url);\n      }\n    }\n  }\n\n  function loadImage() {\n    setURL(urls[index]);\n    let i = index + 1;\n    setIndex(i);\n\n    if (index >= (urls === null || urls === void 0 ? void 0 : urls.length)) {\n      setIndex(0);\n    }\n\n    console.log(index);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(DriftingClouds, {\n      url: `https:${url}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FetchContent, \"20eqeEFGwJbUEL5MeuiCAtSxpjk=\");\n\n_c = FetchContent;\n\nvar _c;\n\n$RefreshReg$(_c, \"FetchContent\");","map":{"version":3,"sources":["/Users/273488/Workspace/My Repo/Code Reference/React App/src/contentful/FetchContent.js"],"names":["useState","useEffect","createClient","Clouds","DriftingClouds","HeavyRain","SideRain","SplashRain","SPACE_ID","ACCESS_TOKEN","client","space","accessToken","FetchContent","entries","setEntries","urls","setURLs","url","setURL","index","setIndex","time","Date","toLocaleString","getEntries","then","response","items","catch","console","error","setInterval","loadImage","log","getURL","interval","clearInterval","img","fields","defaultImages","key","push","file","i","length"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { createClient } from \"contentful\";\n\n\nimport Clouds from \"../templates/clouds/Clouds\";\nimport DriftingClouds from \"../templates/clouds/DriftingClouds\";\nimport HeavyRain from \"../templates/rain/HeavyRain\";\nimport SideRain from \"../templates/rain/SideRain\";\nimport SplashRain from \"../templates/rain/SplashRain\";\n\nconst SPACE_ID = \"jbuh6ffk2dc1\";\n\nconst ACCESS_TOKEN = \"vIgkWsaGQS-aMGClV9awdFmf4JM-3NEL9yqennzrHKA\";\n\nconst client = createClient({\n  space: SPACE_ID,\n  accessToken: ACCESS_TOKEN,\n});\n\nexport default function FetchContent() {\n  const [entries, setEntries] = useState([]);\n  const [urls, setURLs] = useState([]);\n  const [url, setURL] = useState(\"\");\n  const [index, setIndex] = useState(0);\n  let time = new Date().toLocaleString()\n\n  useEffect(() => {\n    client\n      .getEntries()\n      .then((response) => setEntries(response.items))\n      .catch(console.error);\n      setInterval(loadImage, 10000);\n  }, []);\n\n  useEffect(() => {\n    console.log(entries);\n    getURL();\n  }, [entries]);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n        loadImage();\n    }, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  function getURL() {\n    let img = entries[0]?.fields?.defaultImages;\n\n    if (img) {\n      for (let key in img) {\n        urls.push(img[key].fields.file.url);\n        // setURLs(...urls, img[key].fields.file.url);\n        console.log(img[key].fields.file.url);\n      }\n    }\n  }\n  \n  function loadImage() {\n    setURL(urls[index]);\n    let i=index+1;\n    setIndex(i);\n    if (index >= urls?.length) {\n      setIndex(0);\n    }\n    \n    console.log(index);\n    \n  }\n\n  \n\n  return (\n    <div>\n      <DriftingClouds url={`https:${url}`} />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}